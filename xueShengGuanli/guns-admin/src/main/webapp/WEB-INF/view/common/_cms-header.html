<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport"
          content="width=device-width, initial-scale=2.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta Name="keywords" Content="怀化学院,计算机科学与工程学院${siteName}"/>
    <title>怀化学院 计算机科学与工程学院${siteName}</title>

    <link rel="shortcut icon" href="${ctxPath}/static/img/favicon.ico"/>
    <link rel="stylesheet" href="${ctxPath}/static/css/cms-base.css">
    <link rel="stylesheet" href="${ctxPath}/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="${ctxPath}/static/css/cms-style.css">
    <link rel="stylesheet" href="${ctxPath}/static/css/cms-main.css">
    <link rel="stylesheet" href="${ctxPath}/static/css/cms-css.css">
    <link rel="stylesheet" href="${ctxPath}/static/css/cms-scroll-items.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="${ctxPath}/static/js/jquery-1.9.1.min.js"></script>
    <script src="${ctxPath}/static/modular/cms/cms-fronted/cms-counter.js"></script>
    <script src="${ctxPath}/static/modular/cms/cms-fronted/cms-base64.js"></script>
    <script src="${ctxPath}/static/modular/cms/cms-fronted/cms-formfunc.js"></script>
    <script src="${ctxPath}/static/modular/cms/cms-fronted/cms-dynclicks.js"></script>
    <script src="${ctxPath}/static/modular/cms/cms-fronted/cms-openlink.js"></script>
    <script src="${ctxPath}/static/js/bootstrap.min.js"></script>
</head>

<!--[if IE 8]>
<body class="ie8"><![endif]-->
<!--[if !IE]>
<body><![endif]-->

<div class="content-outside">
    <div class="content-inside">
        <nav class="navbar navbar-default navbar-top" role="navigation">
            <div class="container">
                <div>
                    <ul class="nav navbar-nav">
                        <li>
                            <a style="padding: 0px; margin: 0px;"
                               href='${ctxPath}'>
                                <svg class="li-logo-big" width="500" height="78">
                                    <image xlink:href="${ctxPath}/static/img/logo-big.svg"
                                           src="${ctxPath}/static/img/logo-big.png"
                                           width="500"
                                           height="78"/>
                                </svg>
                            </a>
                        </li>

                        <li class="li-logo">
                            <a class="li-logo" style="padding: 0px; margin: 0px;"
                               href='${ctxPath}'>
                                <svg class="li-logo" width="250" height="78">
                                    <image class="li-logo" xlink:href="${ctxPath}/static/img/logo.svg"
                                           src="${ctxPath}/static/img/logo.png" width="250"
                                           height="78"/>
                                </svg>
                            </a>
                        </li>
                        <li>
                            <a href='${ctxPath}' class="header-title">${siteName}</a>
                        </li>
                    </ul>

                    <script>
                        function siteSearch() {
                            var keyword = document.getElementById('searchKeyword').value;
                            if (keyword == null || keyword == "") {
                                alert("请输入你要检索的内容！");
                                return false;
                            }
                            window.open("${ctxPath}/search/"+keyword+"/1", '_self');
                            return false;
                        }
                    </script>

                    <form onsubmit="return siteSearch();"
                          class="navbar-form navbar-right hidden-sm" role="search">
                    <div class="input-group">
                            <input type="text" class="form-control" placeholder="搜索关键词..." name="showkeycode"
                                   id="searchKeyword">
                            <span class="input-group-btn">
                                <button class="btn btn-default" type="submit"><span class="icon icon-search"></span></button>
                            </span>
                        </div>
                    </form>
                </div>
            </div>
        </nav>

        <nav class="navbar navbar-main" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse"
                            data-target=".navbar-ex1-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse navbar-ex1-collapse" style="padding-right: 30px;">
                    @if(navmenuList.~size < 11){
                    <ul style="margin-right: 40px; padding: 0px" class="nav navbar-nav navbar-right">
                    @}else{
                    <ul style="padding: 0px" class="nav navbar-nav navbar-right">
                    @}
                        <li class="visible-xs visible-sm"><a
                                href='${ctxPath}'><span
                                class="glyphicon glyphicon-home"></span>
                            回到首页</a></li>

                        @for(navmenuMap in navmenuList!){
                        @if(navmenuMap.descendants.~size!0 == 0){
                        <li class="dropdown">
                            @if(strutil.startWith(navmenuMap.link, "/")){
                            <a href='${ctxPath}${navmenuMap.link}'>${navmenuMap.name}</a>
                            @}else{
                            <a target="_blank" href='${navmenuMap.link}'>${navmenuMap.name}</a>
                            @}
                        </li>
                        @}else{
                        <li class="dropdown">
                            <a data-toggle="dropdown" role="button" aria-expanded="false"
                               href="#">${navmenuMap.name}</a>
                            <ul class="dropdown-menu" role="menu">
                                @for(childNavmenuMap in navmenuMap.descendants!){
                                @if(strutil.startWith(navmenuMap.link, "/")){
                                <li><a href="${ctxPath}${childNavmenuMap.link}">${childNavmenuMap.name}</a></li>
                                @}else{
                                <li><a target="_blank" href="${childNavmenuMap.link}">${childNavmenuMap.name}</a></li>
                                @}
                                @}
                            </ul>
                        </li>
                        @}
                        @}

                    </ul>
                </div>
            </div>
        </nav>

        <script>
            /*    $(".navbar-ex1-collapse").on('click', function(event) {
                                                                                                                                                                                                                                                                            event.preventDefault();
                                                                                                                                                                                                                                                                            event.stopPropagation();
                                                                                                                                                                                                                                                                            $(this).collapse('hide');
                                                                                                                                                                                                                                                                        });*/
            //todo 需要解决移动端无法关闭侧边栏的问题
            $('.navbar-nav > li.dropdown').hover(function (event) {
                event.preventDefault();
                $('ul.dropdown-menu', this).stop(true, true).slideDown('fast');
                $(this).addClass('open');
                event.stopPropagation();
            }, function (event) {
                event.preventDefault();
                $('ul.dropdown-menu', this).stop(true, true).slideUp('fast');
                $(this).removeClass('open');
                event.stopPropagation();
            });

        </script>
